# GraphView2017
fMRI Study Program
GraphView
Guohao Zhang
bd71571@umbc.edu
1/16/2018
https://github.com/edgeofmoon/GraphView2017

Description:
This program was used for two studies:
The fMRI network visualization study and the later added study on the impact of background color.
Please note the UI setting is for 1920*1200 resolution only.

commandline parameters
GraphView [trial_index] [participant_index] [mode: 0 is formal study, else is training]

Controls:
Esc: quit
n or N key: next trial
You can change the variable "blinkTime" in taskTest.cpp or taskTest_fMRI.cpp to modify the crosshair blinking time (in seconds). This is useful to quickly navigate the views by setting it to 0.

Build:
All the *.cpp files with main functions are used for test purposes. Therefore, only one of those files should be included in your project to compile the corresponding executable.
The taskTest.cpp should be used for compiling the programs used for both studies. Change the task folders specfied in this cpp file to switch between the two studies. 
Task folders with "dualbackground" in their names are for the color study.
a) taskTest.cpp is used for the background pilot study.
b) taskTest_fMRI.cpp is used for fMRI study.

How it works:
If you have the data folder, just run using the main entry from taskTest.cpp (or taskTest_fMRI.cpp).
If you want to generate new data, run with the main entry from taskGen.cpp. The code for specifying task generation process is in MyGraphTaskGenerator.cpp.
The program reads the generated configure files and load the parameters (in text file format, so a human can read the configure file) and the network files to build visualizations and tasks.
The data folder is located in ./data/task_configs_XXX depends on the mode, which can be changed via command line or in the main function.

1. The fMRI network visualization study
The study researches on the performance impact on using nine types of visual marks and three positioning methods.
The data loaded to the program consists of two major parts:
a) The network matrices, which are located in \data\NBS1.2\SchizophreniaExample. The matrices folder contains 27 subject matrices and a mean matrix (averaged from all other 27 matrices). 
The folder also contains other related information such as the node names and node positions etc.
b) The task config files, which are located in data\task_configs_*. The specific folders being selected for experiment use can be changed in taskTest.cpp. 
All the config files are generated by a program compiled from taskGen.cpp
c) Macro TASKSET (in taskTest.cpp) defines the set of tasks used for the study. TASKSET==1 contains the four tasks used for fMRI study experiment one, which focuses on node centrality.
TASKSET==else is the two tasks used for comparing link numbers, which are NOT reported in our paper but only in my master thesis.
d) Macro DATASET (in VisConfig.h) was used to test another dataset which contains 100 nodes. The dataset was never used so you should not change the value.
e) The SAS code is in GraphView/sas_encoding folder.

2. The color study
This is supposed to be the pilot study for the fMRI study to test whether or not different background colors have an impact on task performance.
The program data is of the same structure as that of the fMRI network study. The only difference is that each config file has an additional entry specifying the type of background color.
a) All process is the same as fMRI network study except for an additional parameter in the configure files, which is labeled as [background].
b) The SAS code is in GraphView/sas_background folder.
